<!-- Based on https://github.com/H4tch/hugo-plus/blob/master/layouts/shortcodes/photo.html -->
<!--Photo allows you to embed an image on the page with a link to popup the
        image in a Magnific Popup lightbox viewer.
    See documentation for more details:
        'docs/shortcodes/photo.md'
-->
<div class="row">
  <div class="col-sm-4">
    <a {{ with .Get "src" }}href="{{ . }}"{{ end }}
        {{ with .Get "title" }}title="{{ . }}"{{ end }}
        {{ with .Get "link_class" }}class="image-link {{ . }}"
            {{ else }}class="image-link thumbnail"{{ end }}
        {{ with .Get "link_id" }}id="{{ . }}"{{ end }}
    >
        {{ if (not (.Get "no_thumb")) }}
            {{ $thumb := (or (.Get "thumb") (.Get "src")) }}
            <img src="{{ $thumb }}"
                class="{{ if (not (.Get "no_responsive")) }}img-responsive{{ end }}
                    {{ .Get "class" }}"
                {{ with .Get "id" }}id="{{ . }}"{{ end }}
                {{ with .Get "alt" }}alt="{{ . }}"{{ end }}
                {{ with .Get "width" }}width="{{ . }}"{{ end }}
                {{ with .Get "height" }}height="{{ . }}"{{ end }}
            />
        {{ end }}
        {{ .Get "link_text" | safeHTML }}
        <div class="caption">{{ with .Get "title" }}{{ . }}{{ end }}</div>
    </a>
  </div>
</div>
